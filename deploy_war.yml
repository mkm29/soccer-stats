#Ansible Playbook to run Tomcat
---
- name: Deploy to Tomcat
  hosts: "18.234.193.39"
  become: yes
  become_user: ec2-user
  tasks:
    - name: Deploy WAR file
      ansible.builtin.copy:
        src: ./target/soccer-stats-0.0.2.war
        dest: /usr/src/app
    - name: Pull and run Tomcat
      shell: "docker run -p 80:8080 -v /usr/src/app:/usr/local/tomcat/webapps tomcat:8.0-alpine"
